#!/usr/bin/env bash
# Installs and configures Nginx to:
#   - Listen on port 80
#   - Return "Holberton School" when queried at the root (GET /)

# Exit immediately if a command fails
set -e

# Update package lists and install nginx
sudo apt-get update -y
sudo apt-get install -y nginx

# Allow HTTP traffic through UFW (optional if UFW is enabled)
sudo ufw allow 'Nginx HTTP' || true

# Create or overwrite the default index page
echo "Holberton School" | sudo tee /var/www/html/index.html > /dev/null

# Ensure Nginx is running
sudo systemctl restart nginx
sudo systemctl enable nginx

# Optional: Print success message
echo "âœ… Nginx is installed and serving 'Holberton School' on port 80."
