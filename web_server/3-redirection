#!/usr/bin/env bash
#configures Ngix server with a 301 redirect for /redirect_me 

# update package list and install Nginx 
apt-get update -y 
apt-get install -y ngix 

#start nginx service 
service ngix start

#create a simple index page 
echo "Hello World !">/var/www/html/index.html

# Add redict configuration to the default server block 
#This adds location block before the existing location/block
sed -i '/Location\/{/i \    location/redirect_me {\n                return 301 https://www.youtube.com/watch?v=QH2-TGUlwu4;\n        }\n' /etc/nginx/sites-available/default
# Test nginx configuration
nginx -t

# Reload Nginx to apply changes
service nginx reload
